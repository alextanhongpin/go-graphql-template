-- name: Create{{ pascalcase .Entity }} :one
INSERT INTO {{ .Entity }} (name, email, preferred_{{ .Entity }}name)
VALUES ($1, $2, $3)
RETURNING *;

-- name: Find{{ pascalcase .Entity }} :one
SELECT *
FROM {{ .Entity }}
WHERE id = $1;

-- name: Find{{ pascalcase .Entity }}sWithIDs :many
SELECT *
FROM {{ .Entity }}
WHERE id = any($1::uuid[]);

-- name: Update{{ pascalcase .Entity }} :one
UPDATE {{ .Entity }}
SET name = COALESCE($1, name)
WHERE id = $2
RETURNING *;

-- name: Delete{{ pascalcase .Entity }} :one
DELETE FROM {{ .Entity }}
WHERE id = $1
RETURNING *;
